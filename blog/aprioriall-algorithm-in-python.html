<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="中南大学|清华大学软件学院唐磊的博客,主攻软件工程,数据挖掘,这里记录了我的学习，生活和工作"><title>序列模式挖掘-AprioriAll算法详解(附python源码) | tanglei's blog|唐磊的个人博客</title><link rel="stylesheet" type="text/css" href="/css/normalize.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/pure-min.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">序列模式挖掘-AprioriAll算法详解(附python源码)</h1><a id="logo" href="/.">tanglei's blog|唐磊的个人博客</a><p class="description">记录我的学习、生活、工作。</p></div><div id="nav-menu"><a href="/." class="current"><i class="icon-home"> 首页</i></a><a href="/archives/"><i class="icon-archive"> 归档</i></a><a href="/blog/about.html"><i class="icon-about"> 关于</i></a><a href="/atom.xml"><i class="icon-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post post-page"><h1 class="post-title">序列模式挖掘-AprioriAll算法详解(附python源码)</h1><div class="post-meta">2012-03-20 | <span class="categories">分类于<a href="/categories/python/"> python</a><a href="/categories/python/我不会算法/"> 我不会算法</a><a href="/categories/python/我不会算法/数据挖掘/"> 数据挖掘</a></span></div><span data-disqus-identifier="blog/aprioriall-algorithm-in-python.html" class="disqus-comment-count"></span><div class="post-content"><p>&#160;&#160;&#160;&#160;&#160; 序列数据是非常重要的一种，在很多领域里面都频繁出现，例如：医药，商业，财政，客户行为，教育，安全等等。相关研究可以大致将序列数据的挖掘分为两类，发现序列模式和挖掘周期模式。Agrawal 等人<sup>[1]</sup>首次提出了挖掘频繁序列模式，利用支持度的概念来发现频繁模式，AprioriALL算法也是一种基于Apriori性质的算法，采用逐层搜索的算法来挖掘模式。<a href="http://rakesh.agrawal-family.com/papers/icde95seq.pdf" target="_blank">这篇论文</a>本身还讲了另外基于Apriori的变种序列模式挖掘算法，AprioriSome和DynamicSome。下面将根据这篇论文和结合自己的理解来说明下AprioriAll算法。总体来说，自我感觉这个AprioriAll算法相当于利用了两次前面提到的<a href="http://www.tanglei.name/apriori-algorithm-in-python/" target="_blank">Apriori算法</a>，中间包含一个频繁项的映射Map。区别在于其<strong>支持度的定义有所区分</strong>：本文所述的序列模式的支持度是指支持某特定某次的<strong>custom数量</strong>，而前面提到的关联规则Apriori算法中的支持度是在项集的交易数量上（就是下面的<strong>baskets数量</strong>）。</p>
<p>&#160;&#160;&#160;&#160;&#160; AprioriAll算法大致分为5个步骤：</p>
<ol>
<li><strong>Sort Phase</strong>：排序阶段，这个过程将根据客户ID和交易时间排序。在本文中，这一步在初始化读取交易数据文件时完成。</li>
<li><strong>Litemset Phase</strong>：频繁项集挖掘阶段，这个过程相当于利用了一次Apriori算法，找出所有大于给定支持度的频繁项集。为后面的转换成map阶段做准备工作。</li>
<li><strong>Transformation Phase</strong>：转化阶段，利用上面生成的频繁项集，扫描原交易序列数据，根据构造出的Map进行映射得到新的序列。</li>
<li><strong>Sequence Phase</strong>：序列阶段，根据上一步得到的新序列数据集，再进行一次Apriori算法，得到新的”频繁项集”。</li>
<li><strong>Maximal Phase</strong>：最大化序列阶段，经过以上步骤后将得到所有满足条件的序列模式，然后找出‘最大长度’的序列模式，即删除其父模式也在这个集合里的模式。</li>
</ol>
<p>举个例子：</p>
<p><a href="/wp-content/uploads/2012/03/image2.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="AprioriAll算法" border="0" alt="AprioriAll算法" src="/wp-content/uploads/2012/03/image2.png"></a> </p>
<p>以上为输入序列数据文件，此文件代表5个custom的购买记录，每行代表一个basket，用空行将custom间隔开。表示成的序列seqences为：</p>
<ul>
<li>seq1:&lt;(30)(90)&gt;,</li>
<li>seq2:&lt;(10,20)(30)(40,60,70)&gt;</li>
<li>seq3:&lt;(30,50,70)&gt;</li>
<li>seq4&lt;(30),(40,70),(90)&gt;</li>
<li>seq5&lt;(90)&gt;</li>
</ul>
<p>然后就是<strong>LitemPhase(频繁项集挖掘阶段)：</strong>假设给定支持度阈值0.4，则项集计算最小的重复次数应该为supportCount=0.4*len(sequcences)=0.4*5=2。同样首先得到频繁1项集，为[&#8217;30&#8217;], [&#8217;40&#8217;], [&#8217;70&#8217;], [&#8217;90&#8217;] （因为10只在seq2中出现一次，<supportcount,排除掉，其他以此类推），然后再根据频繁1项集生成候选2项集，这个过程可以利用apriori性质，为[[&#8217;30&#8217;, &#8217;40&#8217;],="" [&#8217;30&#8217;,="" &#8217;70&#8217;],="" &#8217;90&#8217;],="" [&#8217;40&#8217;,="" [&#8217;70&#8217;,="" &#8217;90&#8217;]]，再次扫描原交易序列数据，得到频繁2项集[&#8217;40&#8217;,="" &#8217;70&#8217;\](分别在seq2和seq4中出现)。重复这个过程<del="" datetime="2013-01-12T07:57:43+00:00">知道直到不能产生候选项集为止。本例中得到的频繁项集为4个频繁1-itemset和1个频繁2-itemset：[[&#8217;30&#8217;], [&#8217;40&#8217;], [&#8217;70&#8217;], [&#8217;90&#8217;], [&#8217;40&#8217;, &#8217;70&#8217;]]。</supportcount,排除掉，其他以此类推），然后再根据频繁1项集生成候选2项集，这个过程可以利用apriori性质，为[[&#8217;30&#8217;,></p>
<p>接下来是<strong>Mapping转换阶段</strong>，构造一个Map，例如本例中transformation map :{1: [&#8217;30&#8217;], 2: [&#8217;40&#8217;], 3: [&#8217;70&#8217;], 4: [&#8217;90&#8217;], 5: [&#8217;40&#8217;, &#8217;70&#8217;]}，然后再次扫描交易序列数据，得到新的序列数据集【<font color="red">update:此转换阶段有误，详见文末的解释</font>】：</p>
<ul>
<li>newseq1:{1, 4}</li>
<li>newseq2: {1, 2, 3, 5},</li>
<li>newseq3: {1, 3}</li>
<li>newseq4:{1, 2, 3, 4, 5},</li>
<li>newseq5: {4}</li>
</ul>
<p>然后， <strong>Sequence Phase</strong>：序列阶段，采取同样的方式计数，子集在newseq中则count++,最后count数量大于supportCount保留下来，先得到频繁</p>
<ul>
<li>1-itemset：[1], [2], [3], [4], [5]，进而得到</li>
<li>2-itemset：[1, 2], [1, 3], [1, 4], [1, 5], [2, 3], [2, 5], [3, 5]；</li>
<li>3-itemset：[1, 2, 3], [1, 2, 5], [1, 3, 5], [2, 3, 5]</li>
<li>4-itemset：[1, 2, 3, 5] (这个很明显，在newseq2和newseq4中出现两次刚好等于给定的阈值)</li>
</ul>
<p>最后就是<strong>Maximal Phase</strong>最大化序列阶段，例如在本例中，一个频繁3-itemset:[1, 2, 3],就包含了频繁1-itemset3个，频繁2-itemset也是3个（[1, 2], [1, 3],[2, 3], ）那么这些被包含的也都将被删除，悲剧的是它自己也被那个频繁4-itemset：[1, 2, 3, 5]包含，所以也删除掉。最后就剩下一个频繁2-itemset，和一个频繁4-itemset：[[1, 4], [1, 2, 3, 5]]，已经得到最大化的序列了，最后只需要根据前面用到的map，转换一下即可，即得到序列模式两个&lt;[&#8217;30&#8217;], [&#8217;90&#8217;]&gt; 和&lt;[&#8217;30&#8217;], [&#8217;40&#8217;], [&#8217;70&#8217;], [&#8217;40&#8217;, &#8217;70&#8217;]&gt;</p>
<p>整个过程完成了。近期学python，还是用python实现了，python中的列表多了几层，我就容易搞混淆，所以另外弄了几个类，使代码好看些。哈哈。</p>
<p>参考代码如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span><br><span class="line">Created on Mar 15, 2012</span><br><span class="line">@author: tanglei|www.tanglei.name</span><br><span class="line">'''</span></span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Basket</span><span class="params">()</span>:</span></span><br><span class="line">    items=[]<span class="comment">#Apple,orange,....</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,items)</span>:</span></span><br><span class="line">        self.items = items</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setItems</span><span class="params">(self,items)</span>:</span></span><br><span class="line">        self.items = items</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        mystr=<span class="string">'Basket[ '</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> self.items:</span><br><span class="line">            mystr = mystr + i +<span class="string">' , '</span></span><br><span class="line">        mystr += <span class="string">']'</span></span><br><span class="line">        <span class="keyword">return</span> mystr</span><br><span class="line">            </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Custom</span><span class="params">()</span>:</span></span><br><span class="line">    baskets=[]<span class="comment">#basket1,basket2</span></span><br><span class="line">    mapNums=set()<span class="comment">#maped num</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,baskets)</span>:</span></span><br><span class="line">        self.baskets = baskets</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setBaskets</span><span class="params">(self,baskets)</span>:</span></span><br><span class="line">        self.baskets = baskets</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setMapedNums</span><span class="params">(self,mapNums)</span>:</span></span><br><span class="line">        self.mapNums = mapNums</span><br><span class="line">    <span class="function"><span class="keyword">def</span>  <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        mystr=<span class="string">'Custom[ '</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> self.baskets:</span><br><span class="line">            mystr = mystr + i.__str__() +<span class="string">' , '</span></span><br><span class="line">        mystr += <span class="string">']'</span></span><br><span class="line">        <span class="keyword">return</span> mystr</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMapedNums</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.mapNums</span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AprioriAll</span><span class="params">()</span>:</span></span><br><span class="line">    customs=[]</span><br><span class="line">    minSuppCount = <span class="number">0</span><span class="comment">#count  number ,considering the min_supp and the num of transactions</span></span><br><span class="line">    allBaskets=[]</span><br><span class="line">    transMap=&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,min_supp=<span class="number">0.4</span>,datafile=<span class="string">'aprioriall.txt'</span>)</span>:</span></span><br><span class="line">        inputfile = open(datafile,<span class="string">"r"</span>)</span><br><span class="line">        self.min_supp = min_supp</span><br><span class="line">        baskets=[]</span><br><span class="line">        self.customs=[]</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> inputfile.readlines():</span><br><span class="line">            <span class="keyword">if</span>(line != <span class="string">"\n"</span>):</span><br><span class="line">                items = re.compile(<span class="string">r"\w+"</span>).findall(line)</span><br><span class="line">                basket = Basket(items)</span><br><span class="line">                baskets.append(basket)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                custom = Custom((baskets))</span><br><span class="line">                self.customs.append(custom)</span><br><span class="line">                baskets=[] </span><br><span class="line">        <span class="comment">#add the last custom         </span></span><br><span class="line">        custom = Custom((baskets))</span><br><span class="line">        self.customs.append(custom)</span><br><span class="line">        </span><br><span class="line">        self.minSuppCount = math.ceil(min_supp * len(self.customs))</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sortPhase</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">'''sort the transaction db :with  customer-id as the major key and </span><br><span class="line">        transaction-time as the minor key. '''</span></span><br><span class="line">        <span class="comment">#has been done in the constructor</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">litemsetPhase</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">''' find all the fequent-itemsets whose support is above the threshold'''</span></span><br><span class="line">        litemset = []</span><br><span class="line">        items = []</span><br><span class="line">        allBaskets = []</span><br><span class="line">        <span class="keyword">for</span> custom <span class="keyword">in</span> self.customs:</span><br><span class="line">            <span class="keyword">for</span> basket <span class="keyword">in</span> custom.baskets:</span><br><span class="line">                allBaskets.append(basket)</span><br><span class="line">                <span class="keyword">for</span> item <span class="keyword">in</span> basket.items:</span><br><span class="line">                    <span class="keyword">if</span> [item] <span class="keyword">not</span> <span class="keyword">in</span> items:</span><br><span class="line">                        items.append([item])</span><br><span class="line">                    </span><br><span class="line">        items.sort()</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#remove who blow the threshold</span></span><br><span class="line">        candidates=items</span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">            temp=[]</span><br><span class="line">            <span class="keyword">for</span> item1 <span class="keyword">in</span> candidates:</span><br><span class="line">                count = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> basket <span class="keyword">in</span> allBaskets:</span><br><span class="line">                    set1 = set(item1)</span><br><span class="line">                    <span class="keyword">if</span> set1.issubset(basket.items):</span><br><span class="line">                        count += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> count &gt;= self.minSuppCount:</span><br><span class="line">                    print(<span class="string">"Frequent %d-itemset : %s"</span> %(len(item1),item1))</span><br><span class="line">                    temp.append(item1)</span><br><span class="line">                    litemset.append(item1)</span><br><span class="line">            </span><br><span class="line">            candidates = self.__genCandidate(temp)</span><br><span class="line">            <span class="keyword">if</span> len(candidates) == <span class="number">0</span> :</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        self.allBaskets = allBaskets</span><br><span class="line">        <span class="keyword">return</span> litemset</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">transformationPhase</span><span class="params">(self,transmap)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> custom <span class="keyword">in</span> self.customs:</span><br><span class="line">            mapNums=set()<span class="comment">#store the maped numbers of each custom</span></span><br><span class="line">            <span class="keyword">for</span> basket <span class="keyword">in</span> custom.baskets:</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> transmap.keys():</span><br><span class="line">                    s1 = set(transmap[k])</span><br><span class="line">                    s2 = set(basket.items)</span><br><span class="line">                    <span class="keyword">if</span> s1.issubset(s2):</span><br><span class="line">                        mapNums.add(k)</span><br><span class="line">            custom.setMapedNums(mapNums)   </span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sequencePhase</span><span class="params">(self,mapNums)</span>:</span></span><br><span class="line">        </span><br><span class="line">        item1set = set()<span class="comment">#</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> mapNums :</span><br><span class="line">            item1set=item1set.union(num)</span><br><span class="line">                      </span><br><span class="line">        item1list=list(item1set)</span><br><span class="line">        item1list.sort()</span><br><span class="line">        </span><br><span class="line">        seqresult=[]</span><br><span class="line">        candidates=[]</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> item1list:</span><br><span class="line">            candidates.append([item])</span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">            <span class="keyword">for</span> item <span class="keyword">in</span> candidates:</span><br><span class="line">                count = <span class="number">0</span> </span><br><span class="line">                <span class="keyword">for</span> seq <span class="keyword">in</span> mapNums:</span><br><span class="line">                    s1 = set(item)</span><br><span class="line">                    <span class="keyword">if</span> s1.issubset(seq):</span><br><span class="line">                        count += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> count &gt;= self.minSuppCount:</span><br><span class="line">                    print(<span class="string">"Frequent %-itemsets : %s"</span> %(len(item),item))</span><br><span class="line">                    seqresult.append(item)       </span><br><span class="line">            candidates = self.__genCandidate(candidates) </span><br><span class="line">            <span class="keyword">if</span> len(candidates) == <span class="number">0</span> :</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> seqresult</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxSeq</span><span class="params">(self,seqs)</span>:</span></span><br><span class="line">        maxSeq=copy.deepcopy(seqs)</span><br><span class="line">        <span class="keyword">for</span> seq <span class="keyword">in</span> seqs:</span><br><span class="line">            t_set = set(seq)</span><br><span class="line">            <span class="keyword">for</span> seq1 <span class="keyword">in</span> seqs:</span><br><span class="line">                t_set1 = set(seq1)</span><br><span class="line">                <span class="keyword">if</span> t_set1 != t_set <span class="keyword">and</span> t_set1.issuperset(t_set):</span><br><span class="line">                    maxSeq.remove(seq)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> self.__map2seq(maxSeq)          </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">createTransMap</span><span class="params">(self,litemset)</span>:</span></span><br><span class="line">        transmap = &#123;&#125;</span><br><span class="line">        value = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> litemset:</span><br><span class="line">            transmap[value]=each</span><br><span class="line">            value += <span class="number">1</span></span><br><span class="line">        self.transMap = transmap</span><br><span class="line">        <span class="keyword">return</span> transmap</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__map2seq</span><span class="params">(self,seqs)</span>:</span></span><br><span class="line">        <span class="comment">#transform numseq to original seq</span></span><br><span class="line">        origSeqs = []</span><br><span class="line">        <span class="keyword">for</span> seq <span class="keyword">in</span> seqs:</span><br><span class="line">            origSeq=[]</span><br><span class="line">            <span class="keyword">for</span> item <span class="keyword">in</span> seq:    </span><br><span class="line">                origSeq.append(self.transMap[item])</span><br><span class="line">            origSeqs.append(origSeq)</span><br><span class="line">        <span class="keyword">return</span> origSeqs    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__genCandidate</span><span class="params">(self,frequentItems)</span>:</span>    </span><br><span class="line">        <span class="comment">#gen new canidate</span></span><br><span class="line">        length = len(frequentItems) </span><br><span class="line">        result = []<span class="comment">#add one item   </span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(length):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>,length):</span><br><span class="line">                <span class="keyword">if</span> self.__lastDiff(frequentItems[i],frequentItems[j]):</span><br><span class="line">                    item = copy.deepcopy(frequentItems[i])</span><br><span class="line">                    item.insert(len(frequentItems[i]),frequentItems[j][len(frequentItems[j])-<span class="number">1</span>])</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">False</span> == self.__has_inFrequentItemsets(frequentItems, item):</span><br><span class="line">                        result.append(item)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="comment">#check if there is none  subsets of item in the frequentItems </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__has_inFrequentItemsets</span><span class="params">(self,frequentItems,item)</span>:</span></span><br><span class="line">        <span class="keyword">import</span> SetTool</span><br><span class="line">        subs = SetTool.getSubSets(item,len(item)-<span class="number">1</span>) </span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> subs:</span><br><span class="line">            flag=<span class="keyword">False</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> frequentItems:</span><br><span class="line">                <span class="keyword">if</span> i == each:</span><br><span class="line">                    flag=<span class="keyword">True</span></span><br><span class="line">                    <span class="keyword">break</span> </span><br><span class="line">            <span class="keyword">if</span> flag==<span class="keyword">False</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span>  </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span> <span class="comment">#there is at least one subset in the freq-items</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lastDiff</span><span class="params">(self,items1,items2)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(items2) != len(items1):<span class="comment">#length should be the same</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">if</span> items1 == items2:<span class="comment">#if all the same,return false</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">return</span> items1[:-<span class="number">1</span>] == items2[:-<span class="number">1</span>]    </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    aa = AprioriAll(min_supp=<span class="number">0.4</span>,datafile=<span class="string">'aprioriall2.txt'</span>)</span><br><span class="line">    litemset = aa.litemsetPhase()</span><br><span class="line">    print(<span class="string">"litemset:"</span>);print(litemset)</span><br><span class="line">    transmap = aa.createTransMap(litemset);</span><br><span class="line">    print(<span class="string">"transformation map :"</span>);print(transmap)</span><br><span class="line">    aa.transformationPhase(transmap)</span><br><span class="line">    customs = aa.customs</span><br><span class="line">    mapNums = []</span><br><span class="line">    <span class="keyword">for</span> each <span class="keyword">in</span> customs:</span><br><span class="line">        mapNums.append(each.getMapedNums())</span><br><span class="line">    seqNums = aa.sequencePhase(mapNums)</span><br><span class="line">    maxSeqs= aa.maxSeq(seqNums)</span><br><span class="line">    print(<span class="string">"The sequential patterns :"</span>);print(maxSeqs)</span><br></pre></td></tr></table></figure>
<p>利用例子中的数据，运行结果如下：</p>
<p>[cc lang=&#8221;python&#8221;]</p>
<p>Frequent 1-itemset : [&#8217;30&#8217;]</p>
<p>Frequent 1-itemset : [&#8217;40&#8217;]</p>
<p>Frequent 1-itemset : [&#8217;70&#8217;]</p>
<p>Frequent 1-itemset : [&#8217;90&#8217;]</p>
<p>Frequent 2-itemset : [&#8217;40&#8217;, &#8217;70&#8217;]</p>
<p>litemset:</p>
<p>[[&#8217;30&#8217;], [&#8217;40&#8217;], [&#8217;70&#8217;], [&#8217;90&#8217;], [&#8217;40&#8217;, &#8217;70&#8217;]]</p>
<p>transformation map :</p>
<p>{1: [&#8217;30&#8217;], 2: [&#8217;40&#8217;], 3: [&#8217;70&#8217;], 4: [&#8217;90&#8217;], 5: [&#8217;40&#8217;, &#8217;70&#8217;]}</p>
<p>Frequent 1temsets : [1]</p>
<p>Frequent 1temsets : [2]</p>
<p>Frequent 1temsets : [3]</p>
<p>Frequent 1temsets : [4]</p>
<p>Frequent 1temsets : [5]</p>
<p>Frequent 2temsets : [1, 2]</p>
<p>Frequent 2temsets : [1, 3]</p>
<p>Frequent 2temsets : [1, 4]</p>
<p>Frequent 2temsets : [1, 5]</p>
<p>Frequent 2temsets : [2, 3]</p>
<p>Frequent 2temsets : [2, 5]</p>
<p>Frequent 2temsets : [3, 5]</p>
<p>Frequent 3temsets : [1, 2, 3]</p>
<p>Frequent 3temsets : [1, 2, 5]</p>
<p>Frequent 3temsets : [1, 3, 5]</p>
<p>Frequent 3temsets : [2, 3, 5]</p>
<p>Frequent 4temsets : [1, 2, 3, 5]</p>
<p>The sequential patterns :</p>
<p>[[[&#8217;30&#8217;], [&#8217;90&#8217;]], [[&#8217;30&#8217;], [&#8217;40&#8217;], [&#8217;70&#8217;], [&#8217;40&#8217;, &#8217;70&#8217;]]]</p>
<p>```</p>
<p>&#160;</p>
<font size="5" color="red">【update,2013-1-12】</font>

<p>以上文章是大四时写的，之前有读者指出了错误之处。后发现确实有误，在mapping阶段，本来第一个cusomer的序列是[<30>,<90>]是两次购物数据，不能笼统的合并成[30,90]即上述本文中的newseq1：{1,4}，同理newseq2也应该是[(1),(2,3,5)]&#8230;&#8230;这影响了后面子集的计算，举个例子而言比如 [(3) (5)]不是[(3 5)]的子集，因为前者代表先买了3，再买的5，而后者是3，5一起买的……因此上述算法逻辑有问题。</90></30></p>
<p>【BUT】在参考文献提到的原论文中也有没有理解到的地方，后面再找时间向高手咨询咨询。例如文章中的</p>
<p><a href="/wp-content/uploads/2012/03/aprioriall_in_paper.jpg"><img src="/wp-content/uploads/2012/03/aprioriall_in_paper.jpg" alt="aprioriall算法例子" title="aprioriall_in_paper" width="657" height="169" class="aligncenter size-full wp-image-2027"></a></p>
<p>从中可以看出，明显[{1}{2,3,4}]和[{1}{5}]是最大的频繁序列，如果这个时候再根据mapping后跟我得到的结果应该是一样的。不知道是不是再根据map返回原始的数据的时候得经过处理，即将得到的[[&#8217;30 &#8216;], [&#8217;40&#8217;], [&#8217;70 &#8216;], [&#8217;40&#8217;, &#8217;70 &#8216;]]直接合并成 [[&#8217;30 &#8216;], [&#8217;40&#8217;, &#8217;70 &#8216;]]，这样就比较符合预期的结果。但是……这个过程在原文中也并没有讲呀。。。还不知道怎么解释比较合理，期待哪位高手帮忙解释下……</p>
<p>网上查找相关资料也仅仅是参考这个论文，并没有详细完整的把那个例子讲完……</p>
<font size="5" color="red">【/update】</font>

<p>参考文献 </p>
<hr align="left" size="1" width="33%">

<p>[1]Agrawal,R.,Srikant,R.,Institute of Electric and Electronic Engineer et al.<strong>Mining sequential patterns</strong>[C].Proceedings of the Eleventh International Conference on Data Engineering, Washington DC, USA: IEEE Computer Society,1995:3-14.</p>
</div><div class="tags"><a href="/tags/aprioriAll算法/">aprioriAll算法</a><a href="/tags/apriori性质/">apriori性质</a><a href="/tags/python/">python</a><a href="/tags/sequential-pattern/">sequential pattern</a><a href="/tags/序列模式/">序列模式</a><a href="/tags/数据挖掘/">数据挖掘</a></div><div class="post-nav"><a href="/blog/the-yongest-professor-in-central-south-university.html" class="pre"><i class="icon-previous">中南出牛人啊——22岁教授级别的本科生</i></a><a href="/blog/books-of-design-pattern-recommendation.html" class="next">设计模式书籍推荐<i class="icon-next"></i></a></div><div id="disqus_thread"><script>var disqus_shortname = 'hexo-tanglei';
var disqus_identifier = 'blog/aprioriall-algorithm-in-python.html';
var disqus_title = '序列模式挖掘-AprioriAll算法详解(附python源码)';
var disqus_url = 'http://www.tanglei.name/blog/aprioriall-algorithm-in-python.html';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//hexo-tanglei.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search" class="search-form-input"/><input type="hidden" name="sitesearch" value="http://www.tanglei.name"/></form></div><div class="widget"><div class="widget-title">分类</div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA/">JAVA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-amp-Ubuntu/">Linux&amp;Ubuntu</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MyLife/">MyLife</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SoftwareEngineering/">SoftwareEngineering</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/android/">android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/c/">c++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/coding小工具/">coding小工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/wordpress/">wordpress</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/业界动态/">业界动态</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/名人名事/">名人名事</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/实习那些事儿/">实习那些事儿</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作那些事儿/">工作那些事儿</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/开开眼界/">开开眼界</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/我不会算法/">我不会算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/我做站长/">我做站长</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库应用/">数据库应用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据挖掘/">数据挖掘</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/敲敲代码/">敲敲代码</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/清华大学/">清华大学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/玩玩手机/">玩玩手机</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/移动领域/">移动领域</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/经验技巧/">经验技巧</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络文摘/">网络文摘</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机图形学/">计算机图形学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/贵州支教行/">贵州支教行</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件0804/">软件0804</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件体系结构/">软件体系结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件学院/">软件学院</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件工程/">软件工程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件度量及其应用/">软件度量及其应用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件配置管理/">软件配置管理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件项目管理/">软件项目管理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/软考/">软考</a></li></ul></div><div class="widget"><div class="widget-title">标签</div><div class="tagcloud"><a href="/tags/腾讯实习生报道/" style="font-size: 15px;">腾讯实习生报道</a> <a href="/tags/work/" style="font-size: 15px;">work</a> <a href="/tags/jquery/" style="font-size: 15px;">jquery</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/旅游/" style="font-size: 15px;">旅游</a> <a href="/tags/玩遍中国/" style="font-size: 15px;">玩遍中国</a> <a href="/tags/西北旅游/" style="font-size: 15px;">西北旅游</a> <a href="/tags/latex/" style="font-size: 15px;">latex</a> <a href="/tags/beamer/" style="font-size: 15px;">beamer</a> <a href="/tags/tsinghua/" style="font-size: 15px;">tsinghua</a> <a href="/tags/学位论文答辩/" style="font-size: 15px;">学位论文答辩</a> <a href="/tags/ppt-模版/" style="font-size: 15px;">ppt 模版</a> <a href="/tags/经验技巧/" style="font-size: 15px;">经验技巧</a> <a href="/tags/codecolorer/" style="font-size: 15px;">codecolorer</a> <a href="/tags/highlight/" style="font-size: 15px;">highlight</a> <a href="/tags/代码高亮/" style="font-size: 15px;">代码高亮</a> <a href="/tags/wordpress-plugin/" style="font-size: 15px;">wordpress plugin</a> <a href="/tags/wptouch/" style="font-size: 15px;">wptouch</a> <a href="/tags/latex-suite/" style="font-size: 15px;">latex-suite</a> <a href="/tags/mac-osx/" style="font-size: 15px;">mac osx</a> <a href="/tags/vim/" style="font-size: 15px;">vim</a> <a href="/tags/插件/" style="font-size: 15px;">插件</a> <a href="/tags/玩遍世界/" style="font-size: 15px;">玩遍世界</a> <a href="/tags/越南旅游/" style="font-size: 15px;">越南旅游</a> <a href="/tags/回忆录/" style="font-size: 15px;">回忆录</a> <a href="/tags/年终总结/" style="font-size: 15px;">年终总结</a> <a href="/tags/总结/" style="font-size: 15px;">总结</a> <a href="/tags/android/" style="font-size: 15px;">android</a> <a href="/tags/自动/" style="font-size: 15px;">自动</a> <a href="/tags/飞行模式/" style="font-size: 15px;">飞行模式</a> <a href="/tags/leetcode/" style="font-size: 15px;">leetcode</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/面试/" style="font-size: 15px;">面试</a> <a href="/tags/面试题/" style="font-size: 15px;">面试题</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/作弊/" style="font-size: 15px;">作弊</a> <a href="/tags/神经猫/" style="font-size: 15px;">神经猫</a> <a href="/tags/debug/" style="font-size: 15px;">debug</a> <a href="/tags/mac/" style="font-size: 15px;">mac</a> <a href="/tags/xcode/" style="font-size: 15px;">xcode</a> <a href="/tags/微软秋令营/" style="font-size: 15px;">微软秋令营</a> <a href="/tags/换行符/" style="font-size: 15px;">换行符</a> <a href="/tags/缓冲区/" style="font-size: 15px;">缓冲区</a> <a href="/tags/跨平台/" style="font-size: 15px;">跨平台</a> <a href="/tags/effective-c/" style="font-size: 15px;">effective c++</a> <a href="/tags/传参/" style="font-size: 15px;">传参</a> <a href="/tags/性能优化/" style="font-size: 15px;">性能优化</a> <a href="/tags/读书笔记/" style="font-size: 15px;">读书笔记</a> <a href="/tags/ipv6/" style="font-size: 15px;">ipv6</a> <a href="/tags/校园网/" style="font-size: 15px;">校园网</a> <a href="/tags/百度云管家/" style="font-size: 15px;">百度云管家</a> <a href="/tags/百度网盘/" style="font-size: 15px;">百度网盘</a> <a href="/tags/APACHE/" style="font-size: 15px;">APACHE</a> <a href="/tags/config/" style="font-size: 15px;">config</a> <a href="/tags/favicon-ico/" style="font-size: 15px;">favicon.ico</a> <a href="/tags/c/" style="font-size: 15px;">c++</a> <a href="/tags/class/" style="font-size: 15px;">class</a> <a href="/tags/OOP/" style="font-size: 15px;">OOP</a> <a href="/tags/struct/" style="font-size: 15px;">struct</a> <a href="/tags/基础/" style="font-size: 15px;">基础</a> <a href="/tags/whois/" style="font-size: 15px;">whois</a> <a href="/tags/纳网/" style="font-size: 15px;">纳网</a> <a href="/tags/网络营销/" style="font-size: 15px;">网络营销</a> <a href="/tags/隐私/" style="font-size: 15px;">隐私</a> <a href="/tags/骗子/" style="font-size: 15px;">骗子</a> <a href="/tags/怀柔/" style="font-size: 15px;">怀柔</a> <a href="/tags/水长城/" style="font-size: 15px;">水长城</a> <a href="/tags/清明/" style="font-size: 15px;">清明</a> <a href="/tags/游记/" style="font-size: 15px;">游记</a> <a href="/tags/cpp/" style="font-size: 15px;">cpp</a> <a href="/tags/RVO/" style="font-size: 15px;">RVO</a> <a href="/tags/拷贝构造函数/" style="font-size: 15px;">拷贝构造函数</a> <a href="/tags/返回值优化/" style="font-size: 15px;">返回值优化</a> <a href="/tags/bug/" style="font-size: 15px;">bug</a> <a href="/tags/FPU/" style="font-size: 15px;">FPU</a> <a href="/tags/x64/" style="font-size: 15px;">x64</a> <a href="/tags/x86/" style="font-size: 15px;">x86</a> <a href="/tags/汇编/" style="font-size: 15px;">汇编</a> <a href="/tags/浮点乘法/" style="font-size: 15px;">浮点乘法</a> <a href="/tags/浮点数/" style="font-size: 15px;">浮点数</a> <a href="/tags/误差/" style="font-size: 15px;">误差</a> <a href="/tags/3次握手/" style="font-size: 15px;">3次握手</a> <a href="/tags/TCP-IP/" style="font-size: 15px;">TCP/IP</a> <a href="/tags/tcpdump/" style="font-size: 15px;">tcpdump</a> <a href="/tags/windump/" style="font-size: 15px;">windump</a> <a href="/tags/计算机网络/" style="font-size: 15px;">计算机网络</a> <a href="/tags/php图片水印/" style="font-size: 15px;">php图片水印</a> <a href="/tags/QQ空间/" style="font-size: 15px;">QQ空间</a> <a href="/tags/图片拼接/" style="font-size: 15px;">图片拼接</a> <a href="/tags/魔力日志/" style="font-size: 15px;">魔力日志</a> <a href="/tags/Android-4-2/" style="font-size: 15px;">Android 4.2</a> <a href="/tags/AutoSwitcher/" style="font-size: 15px;">AutoSwitcher</a> <a href="/tags/WRITE-SECURE-SETTINGS/" style="font-size: 15px;">WRITE_SECURE_SETTINGS</a> <a href="/tags/没有权限/" style="font-size: 15px;">没有权限</a> <a href="/tags/sqlite/" style="font-size: 15px;">sqlite</a> <a href="/tags/安全/" style="font-size: 15px;">安全</a> <a href="/tags/用户体验/" style="font-size: 15px;">用户体验</a> <a href="/tags/百度/" style="font-size: 15px;">百度</a> <a href="/tags/QT/" style="font-size: 15px;">QT</a> <a href="/tags/windows/" style="font-size: 15px;">windows</a></div></div><div class="widget"><div class="widget-title">最新文章</div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/jquery-ajax-post-to-download-a-file.html">jQuery Ajax请求下载文件资源</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/travel-to-northwest-of-China.html">毕业旅行之大西北游</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/codecolorer-adapted-to-highlight.html">将代码高亮插件codecolorer替换为highlight</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/binding-domain-to-plugin-of-mobile-theme.html">给手机主题插件Wptouch绑定单独的域名</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/share-beamer-with-tsinghua-theme.html">分享一个清华主题的beamer模版</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/install-vim-latex-suite-in-mac-osx.html">Mac下安装使用vim插件latex-suite</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/travel-to-vietnam.html">越南10日游记</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/summary-of-year-2014.html">2014年终总结</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/android-airplanemode-auto-switcher-v2.html">飞行模式助手</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/leetcode-summary.html">leetcode总结</a></li></ul></div><div class="widget"><div class="widget-title">最近评论</div><script type="text/javascript" src="//hexo-tanglei.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title">友情链接</div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><div id="footer">© <a href="/." rel="nofollow">tanglei's blog|唐磊的个人博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/jquery.min.js?v=0.0.0"></script><script type="text/javascript" src="/js/totop.js?v=0.0.0"></script><script type="text/javascript" src="/js/fancybox.pack.js?v=0.0.0"></script><script type="text/javascript" src="/js/jquery.fancybox.js?v=0.0.0"></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>